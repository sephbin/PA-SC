<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<style>
	@import url('https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap');
	body{
		font-family: "Roboto Mono";
		/* text-shadow: 0 0 3px hsla(28, 100%, 50%, 0.5), 0 0 4px rgba(255, 136, 0, 0.5), 0 0 10px hsla(27, 98%, 16%, 0.5); */
	}
	a {
		color: inherit; /* blue colors for links too */
		text-decoration: inherit; /* no underline */
	}
	.left a{
		color: rgb(255, 0, 221);
		text-shadow: 0 0 2px #393a33, 0 0 35px #ffffff44, 0 0 10px #fc199a, 0 0 2px #fc199a;
	}
	.left a.hlt-100{
		color: rgb(255, 208, 0);
		text-shadow: 0 0 2px #3a3733, 0 0 35px #e9dac641, 0 0 10px #fcbf19, 0 0 2px #fcac19;
	}
	.left hr{
		border-top: 1px solid rgb(255, 255, 255);
		/* box-shadow: 0 0 2px #3a3733, 0 0 35px #e9dac641, 0 0 10px #fcbf19, 0 0 2px #fcac19; */
	}
	.right a{
		color: rgb(0, 255, 255);
		text-shadow: 0 0 2px #100c0f, 0 0 10px #257c55, 0 0 35px #212724;
	}
		div.split{
			overflow-y: auto;
			padding-left:2em;
			padding-right:2em;
			padding-top: 1em;
			top: 3em;
		}
		div.left{
			position: absolute;
			left:0;
			right:50%;
			bottom:0;
			
		}
		div.right{
			position: absolute;
			left:50%;
			right:0;
			bottom:0;
		}
		div.nav{
			position: absolute;
			top:0;
			left:0;
			right:0;
			height:3em;
			background: #222;
		}
	@media only screen and (max-width: 600px) {
		body{
			font-size:10pt;
		}
		div.split{
			overflow-y: auto;
			padding-left:1em;
			padding-right:1em;
			padding-top: 0em;
			top: 3em;
		}
		div.left{
			position: absolute;
			left:0;
			right:0;
			bottom:calc(50% - 1.5em);
			
		}
		div.right{
			position: absolute;
			left:0%;
			right:0;
			top:calc(50% + 1.5em);
		}
		div.nav{
			position: absolute;
			top:0;
			left:0;
			right:0;
			height:3em;
			background: #222;
		}
	}
	div.left{
		background :#200933;
		box-shadow: inset 0px 0px 200px rgba(0,0,0,0.5);
		background-image:linear-gradient(90deg, rgba(252,25,154,.1) 1px, rgba(0,0,0,0) 1px), linear-gradient(0deg, rgba(252,25,154,.1) 1px, rgba(0,0,0,0) 1px);
		background-position:bottom;
		background-repeat:repeat;
		background-size:15px 15px;
		color: White;
	}
	div.right{
		background :#091b33;
		box-shadow: inset 0px 0px 200px rgba(0,0,0,0.5);
		background-image:linear-gradient(90deg, rgba(25, 244, 252, 0.1) 1px, rgba(0,0,0,0) 1px), linear-gradient(0deg, rgba(25, 244, 252, 0.1) 1px, rgba(0,0,0,0) 1px);
		background-position:bottom;
		background-repeat:repeat;
		background-size:15px 15px;
		color: White;
	}
	#campaign-title{
		position: relative;
		width: 20em;
		height:100%;
	}
	#campaign-title div{
		position: absolute;
		/* top:0;
		left:0;
		right:0;
		bottom:0; */
		height:100%;
		width:100%;
		background-size: cover;
		background-position: center;
		background-repeat: no-repeat;
		image-rendering: pixelated;
	}
	@keyframes scrolling-bg {
		100%{
		background-position:-2000px -1200px;
		}
	}
	[scrolling-background]{
		animation: scrolling-bg 100s linear infinite;
	}
	.column{
		width:50%;
		display: inline-block;
	}
</style>
</head>
<body>
	<div class="top nav">
		<div id="campaign-title">
			<div scrolling-background style="background-position:-0px -0px; background-size: 106px; background-repeat: repeat; background-image: url('/media/crowbar/campaigns/gardiansofragnarok/main_title_background.jpg');"></div>
			<div style="background-image: url('/media/crowbar/campaigns/gardiansofragnarok/main_title.png');"></div>
		</div>
	</div>
	<div class="left split">
		{%if left%}{{left|safe}}{%endif%}
	</div>
	<div class="right split">
		{%if right%}{{right|safe}}{%endif%}
	</div>
</body>
<script>
{%if right%}
right = true;
{% else %}
right = false;
{%endif%}
if (right){
	var currenturl = String(window.location);
}else{
	var currenturl = String(window.location)+"/";
}
$('.left a').click(function(event){
	event.preventDefault();
	
	console.log(currenturl);
	var newurl = this.href;
	currenturl = currenturl.split("/");
	
	console.log(currenturl);
	$.ajax({
		url: "",
		method: "post",
		dataType: "json",
		data: {"href":newurl},
	}).done(function(r){
		$(".right").html(r.page);

		newappend = newurl.replace("https://","").replace("http://","").replace("{{request.META.HTTP_HOST}}","").replaceAll("/","__").replaceAll("__$","");
		currenturl[currenturl.length-2] = newappend;
		pushurl = currenturl.join("/");
		window.history.pushState('page2', 'Title', pushurl);
	}).always(function(){
		currenturl = currenturl.join("/");
	});
});
$('.right a').click(function(event){
	event.preventDefault();
	
	console.log(currenturl);
	var newurl = this.href;
	currenturl = currenturl.split("/");
	
	console.log(currenturl);
	$.ajax({
		url: "",
		method: "post",
		dataType: "json",
		data: {"href":newurl},
	}).done(function(r){
		$(".right").html(r.page);

		newappend = newurl.replace("https://","").replace("http://","").replace("{{request.META.HTTP_HOST}}","").replaceAll("/","__").replaceAll("__$","");
		currenturl[currenturl.length-2] = newappend;
		pushurl = currenturl.join("/");
		window.history.pushState('page2', 'Title', pushurl);
	}).always(function(){
		currenturl = currenturl.join("/");
	});
});
</script>
</html>