{% load static %}
<!DOCTYPE html>
<html lang="en">
	<head>
		<title>three.js webvr - panorama</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
		<style>
			html, body {
				background-color: #000;
				margin: 0px;
				padding: 0px;
				overflow: hidden;
			}
			.ui{
				position: fixed;
				z-index: 999;
				cursor: pointer;
			}
			.nav-left{
				bottom:0;
				left:0;
				height:5vw;
				width:5vw;
				background: rgba(255,255,255,0.2);
			}
			.nav-right{
				bottom:0;
				right:0;
				height:5vw;
				width:5vw;
				background: rgba(255,255,255,0.2);
			}
			table {
				width: 100%;
				height: 100%;
			}
			td {
				text-align: center;
				vertical-align: middle;
				font-family: Impact;
				font-size: 2vw;
			}
			@media only screen and (max-width: 500px) {
			   .a-enter-vr{
							display: none;
						}
			}
			
		</style>

	</head>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/aframe/0.7.1/aframe.min.js"></script>
		<script src="{% static 'panorama/js/aframe-stereo-component.min.js' %}"></script>
	<body>

		<div id="container"></div>
		<div class="ui nav-left" title="{{last.panorama_name}}" onclick="goto('{{last.loopurl}}')">
			<table> <tr> <td> < </td> </tr> </table>
		</div>
		<div class="ui nav-right" title="{{next.panorama_name}}" onclick="goto('{{next.loopurl}}')">
			<table> <tr> <td> > </td> </tr> </table>
		</div>


		<body>
    <a-scene>
    	<a-assets>
		    <a-cubemap id="sky">
		      <img src="/media/{{context.PX}}">
		      <img src="/media/{{context.PY}}">
		      <img src="/media/{{context.PZ}}">
		      <img src="/media/{{context.NX}}">
		      <img src="/media/{{context.NY}}">
		      <img src="/media/{{context.NZ}}">
			</a-cubemap>
	  </a-assets>
	  <a-camera position="0 -1.6 0" look-controls wasd-controls="acceleration: 0">
	  	<a-cursor color="black"></a-cursor>
	  </a-camera>

    	<a-light type="ambient" color="#fff"></a-light>
      <a-entity id="skybox" scale="100 100 100">
			<a-plane position="-0.5 0 0" rotation="0 -90 0" 	src="/media/{{context.PX}}"		material="side: back"></a-plane>
			<a-plane position="0.5 0 0" rotation="0 90 0"		src="/media/{{context.PY}}"		material="side: back"></a-plane>
			<a-plane position="0 0.5 0" rotation="-90 0 180"	src="/media/{{context.PZ}}"		material="side: back"></a-plane>
			<a-plane position="0 -0.5 0" rotation="90 0 180"	src="/media/{{context.NX}}"		material="side: back"></a-plane>
			<a-plane position="0 0 0.5" rotation="0 0 0"		src="/media/{{context.NZ}}"		material="side: back"></a-plane>
			<a-plane position="0 0 -0.5" rotation="0 180 0"		src="/media/{{context.NY}}"		material="side: back"></a-plane>
	   </a-entity>
    	<!-- <a-sphere  src="/media/{{context.image}}" scale="1000 1000 -1000" stereo="eye:left"></a-sphere> -->
    	<!-- <a-sphere  src="/media/{{context.extraimage}}" scale="1000 1000 -1000" stereo="eye:right"></a-sphere> -->
    </a-scene>
  </body>
		
		<!-- <script src="{% static 'panorama/js/three.min.js' %}"></script> -->
	</body>
	<script>
			function goto(address){
				window.location = "../"+address;
			}
		</script>
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-132320002-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-132320002-1');
</script>
</html>
